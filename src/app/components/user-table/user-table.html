<div
  class="user-table-container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"
>
  <!-- Modern Header Section -->
  <div class="mb-8">
    <div
      class="relative overflow-hidden bg-white/70 backdrop-blur-sm rounded-3xl shadow-lg border border-white/20 p-8"
    >
      <div
        class="absolute inset-0 bg-gradient-to-r from-blue-600/5 to-purple-600/5"
      ></div>
      <div
        class="relative flex flex-col lg:flex-row lg:items-center lg:justify-between"
      >
        <div class="mb-6 lg:mb-0">
          <div class="flex items-center mb-3">
            <div
              class="p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mr-4"
            >
              <mat-icon class="text-white text-2xl">groups</mat-icon>
            </div>
            <div>
              <h1
                class="text-4xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent"
              >
                Employee Directory
              </h1>
              <p class="mt-2 text-gray-600 font-medium">
                Discover and manage your team with style
              </p>
            </div>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <div
            class="bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-2xl text-white shadow-lg"
          >
            <div class="text-center">
              <div class="text-2xl font-bold">{{ dataSource.data.length }}</div>
              <div class="text-sm opacity-90">Total Employees</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modern Search and Filter Section -->
  <div class="mb-8">
    <div
      class="bg-white/70 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20 p-6"
    >
      <div
        class="flex flex-col lg:flex-row lg:items-center lg:space-x-6 space-y-4 lg:space-y-0"
      >
        <div class="flex-1">
          <mat-form-field
            appearance="outline"
            class="w-full modern-search-field"
          >
            <mat-label>Search employees...</mat-label>
            <input
              matInput
              [(ngModel)]="searchValue"
              (keyup)="applyFilter()"
              placeholder="Search by name, email, position, or department"
              class="text-sm"
            />
            <mat-icon matSuffix class="text-gray-400">search</mat-icon>
          </mat-form-field>
        </div>
        <div class="flex space-x-3">
          <button
            mat-raised-button
            *ngIf="searchValue"
            (click)="clearFilter()"
            class="modern-clear-btn bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
          >
            <mat-icon class="mr-2">clear</mat-icon>
            Clear
          </button>
          <button
            mat-raised-button
            color="primary"
            class="modern-action-btn bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
          >
            <mat-icon class="mr-2">add</mat-icon>
            Add Employee
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modern Table Section -->
  <div
    class="bg-white/70 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 overflow-hidden"
  >
    <div class="overflow-x-auto">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="w-full modern-table"
      >
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">tag</mat-icon>
              ID
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <span
              class="bg-gradient-to-r from-blue-100 to-purple-100 text-blue-800 px-3 py-1 rounded-full text-xs font-semibold"
            >
              #{{ user.id }}
            </span>
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header="firstName"
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">person</mat-icon>
              Name
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <div class="flex items-center">
              <div class="relative flex-shrink-0 h-12 w-12 mr-4">
                <div
                  class="h-12 w-12 rounded-2xl bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm shadow-lg ring-2 ring-white"
                >
                  {{ user.firstName.charAt(0) }}{{ user.lastName.charAt(0) }}
                </div>
                <div
                  class="absolute -bottom-1 -right-1 h-4 w-4 bg-green-400 rounded-full border-2 border-white"
                ></div>
              </div>
              <div>
                <div class="text-sm font-bold text-gray-900">
                  {{ user.firstName }} {{ user.lastName }}
                </div>
                <div class="text-xs text-gray-500 font-medium">Employee</div>
              </div>
            </div>
          </td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">email</mat-icon>
              Email
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <a
              href="mailto:{{ user.email }}"
              class="inline-flex items-center text-sm bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200"
            >
              <mat-icon class="text-blue-500 mr-2 text-sm"
                >mail_outline</mat-icon
              >
              {{ user.email }}
            </a>
          </td>
        </ng-container>

        <!-- Phone Column -->
        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef class="modern-header-cell">
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">phone</mat-icon>
              Phone
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <div class="flex items-center text-sm text-gray-700 font-medium">
              <mat-icon class="text-green-500 mr-2 text-sm"
                >phone_outlined</mat-icon
              >
              {{ user.phone }}
            </div>
          </td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">work</mat-icon>
              Position
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <div class="text-sm font-bold text-gray-900">
              {{ user.position }}
            </div>
          </td>
        </ng-container>

        <!-- Department Column -->
        <ng-container matColumnDef="department">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">business</mat-icon>
              Department
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <span
              class="inline-flex items-center px-3 py-1.5 rounded-xl text-xs font-bold bg-gradient-to-r from-indigo-100 to-blue-100 text-indigo-800 border border-indigo-200"
            >
              <div class="w-2 h-2 bg-indigo-500 rounded-full mr-2"></div>
              {{ user.department }}
            </span>
          </td>
        </ng-container>

        <!-- Salary Column -->
        <ng-container matColumnDef="salary">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg"
                >attach_money</mat-icon
              >
              Salary
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <div
              class="text-sm font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent"
            >
              {{ formatSalary(user.salary) }}
            </div>
          </td>
        </ng-container>

        <!-- Join Date Column -->
        <ng-container matColumnDef="joinDate">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">event</mat-icon>
              Join Date
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <div class="flex items-center text-sm text-gray-700 font-medium">
              <mat-icon class="text-purple-500 mr-2 text-sm"
                >calendar_today</mat-icon
              >
              {{ formatDate(user.joinDate) }}
            </div>
          </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="modern-header-cell"
          >
            <div class="flex items-center">
              <mat-icon class="text-gray-500 mr-2 text-lg">info</mat-icon>
              Status
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="modern-cell">
            <span
              [class]="getStatusClass(user.status)"
              class="modern-status-badge"
            >
              <span
                class="status-dot"
                [class]="getStatusClass(user.status) + '-dot'"
              ></span>
              {{ user.status }}
            </span>
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns; sticky: true"
          class="modern-header-row"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="modern-row group hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 transition-all duration-300 cursor-pointer"
        ></tr>
      </table>
    </div>

    <!-- Modern No Data Message -->
    <div *ngIf="dataSource.filteredData.length === 0" class="text-center py-16">
      <div class="relative">
        <div class="absolute inset-0 flex items-center justify-center">
          <div
            class="w-32 h-32 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full opacity-20"
          ></div>
        </div>
        <div class="relative">
          <mat-icon class="text-6xl text-gray-300 mb-6">search_off</mat-icon>
          <h3 class="text-xl font-bold text-gray-900 mb-3">
            No employees found
          </h3>
          <p class="text-gray-500 mb-6 max-w-md mx-auto">
            We couldn't find any employees matching your search criteria. Try
            adjusting your filters or clearing your search.
          </p>
          <button
            mat-raised-button
            (click)="clearFilter()"
            class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
          >
            <mat-icon class="mr-2">refresh</mat-icon>
            Reset Filters
          </button>
        </div>
      </div>
    </div>

    <!-- Modern Pagination -->
    <div
      class="bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-t border-gray-200/50"
    >
      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
        <div class="mb-4 sm:mb-0">
          <p class="text-sm text-gray-600 font-medium">
            Showing {{ getPaginationText() }}
          </p>
        </div>
        <mat-paginator
          [pageSizeOptions]="[5, 10, 25, 50]"
          [pageSize]="10"
          showFirstLastButtons
          class="bg-transparent modern-paginator"
        ></mat-paginator>
      </div>
    </div>
  </div>
</div>
