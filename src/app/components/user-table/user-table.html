<div class="user-table-container mx-auto p-4 sm:p-6 lg:p-8 min-h-screen">
  <!-- Single Modern Container -->
  <div
    class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/20 overflow-hidden"
  >
    <!-- Header with Title and Count -->
    <div
      class="px-8 py-6 border-b border-gray-100/50 bg-gradient-to-r from-blue-50/50 to-purple-50/50"
    >
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div
            class="p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl mr-4"
          >
            <mat-icon class="text-white text-xl">groups</mat-icon>
          </div>
          <div>
            <h1
              class="text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent"
            >
              Employee Directory
            </h1>
            <p class="text-sm text-gray-600 font-medium">
              Manage your team efficiently
            </p>
          </div>
        </div>
        <div
          class="bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-3 rounded-2xl text-white shadow-lg"
        >
          <div class="text-center">
            <div class="text-lg font-bold">{{ dataSource.data.length }}</div>
            <div class="text-xs opacity-90">Total</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Sleek Search Section -->
    <div class="px-8 py-6 bg-gradient-to-br from-blue-50/30 to-purple-50/30">
      <div class="flex items-center justify-end space-x-4">
        <!-- Right-aligned Search Bar and Button -->
        <div class="sleek-search-container">
          <div class="sleek-search-wrapper">
            <input
              [(ngModel)]="searchValue"
              (keyup)="applyFilter()"
              placeholder="Search employees..."
              class="sleek-search-input"
            />
            <button class="sleek-search-btn" (click)="applyFilter()">
              <mat-icon>search</mat-icon>
            </button>
          </div>
          <button
            *ngIf="searchValue"
            (click)="clearFilter()"
            class="clear-search-btn"
            matTooltip="Clear search"
          >
            <mat-icon>close</mat-icon>
          </button>
        </div>

        <!-- Add Employee Button -->
        <button
          mat-raised-button
          class="add-employee-btn bg-gradient-to-r from-blue-500 to-purple-600 text-white"
          (click)="openAddEmployeeModal()"
        >
          <mat-icon class="mr-2">add</mat-icon>
          Add Employee
        </button>
      </div>
    </div>

    <!-- Modern Table Section -->
    <div class="overflow-x-auto">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        class="w-full compact-table"
      >
        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-id"
                >tag</mat-icon
              >
              ID
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="id-badge">#{{ user.id }}</span>
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="name">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header="firstName"
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-name"
                >person</mat-icon
              >
              Name
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <div class="flex items-center">
              <div class="avatar-small">
                {{ user.firstName.charAt(0) }}{{ user.lastName.charAt(0) }}
              </div>
              <div class="ml-3">
                <div
                  class="text-sm font-semibold text-gray-900 whitespace-nowrap"
                >
                  {{ user.firstName }} {{ user.lastName }}
                </div>
              </div>
            </div>
          </td>
        </ng-container>

        <!-- Email Column -->
        <ng-container matColumnDef="email">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-email"
                >email</mat-icon
              >
              Email
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <a
              href="mailto:{{ user.email }}"
              class="email-link whitespace-nowrap"
            >
              {{ user.email }}
            </a>
          </td>
        </ng-container>

        <!-- Phone Column -->
        <ng-container matColumnDef="phone">
          <th mat-header-cell *matHeaderCellDef class="compact-header-cell">
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-phone"
                >phone</mat-icon
              >
              Phone
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="text-sm text-gray-700 whitespace-nowrap">{{
              user.phone
            }}</span>
          </td>
        </ng-container>

        <!-- Position Column -->
        <ng-container matColumnDef="position">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-position"
                >work</mat-icon
              >
              Position
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="text-sm font-medium text-gray-900 whitespace-nowrap">{{
              user.position
            }}</span>
          </td>
        </ng-container>

        <!-- Department Column -->
        <ng-container matColumnDef="department">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-department"
                >business</mat-icon
              >
              Department
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="department-badge">{{ user.department }}</span>
          </td>
        </ng-container>

        <!-- Salary Column -->
        <ng-container matColumnDef="salary">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-salary"
                >attach_money</mat-icon
              >
              Salary
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="salary-text">{{ formatSalary(user.salary) }}</span>
          </td>
        </ng-container>

        <!-- Join Date Column -->
        <ng-container matColumnDef="joinDate">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-date"
                >event</mat-icon
              >
              Join Date
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span class="text-sm text-gray-700 whitespace-nowrap">{{
              formatDate(user.joinDate)
            }}</span>
          </td>
        </ng-container>

        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            class="compact-header-cell"
          >
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-status"
                >info</mat-icon
              >
              Status
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <span
              [class]="getStatusClass(user.status)"
              class="compact-status-badge"
            >
              <span
                class="status-dot"
                [class]="getStatusClass(user.status) + '-dot'"
              ></span>
              {{ user.status }}
            </span>
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="compact-header-cell">
            <div class="flex items-center">
              <mat-icon
                class="text-gray-500 mr-1 text-sm header-icon header-icon-actions"
                >settings</mat-icon
              >
              Actions
            </div>
          </th>
          <td mat-cell *matCellDef="let user" class="compact-cell">
            <div class="flex items-center space-x-2">
              <button
                mat-icon-button
                class="action-btn edit-btn"
                (click)="editUser(user)"
                matTooltip="Edit Employee"
              >
                <mat-icon class="text-blue-600">edit</mat-icon>
              </button>
              <button
                mat-icon-button
                class="action-btn delete-btn"
                (click)="deleteUser(user)"
                matTooltip="Delete Employee"
              >
                <mat-icon class="text-red-600">delete</mat-icon>
              </button>
            </div>
          </td>
        </ng-container>

        <tr
          mat-header-row
          *matHeaderRowDef="displayedColumns; sticky: true"
          class="compact-header-row"
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: displayedColumns"
          class="compact-row hover:bg-blue-50/50 transition-all duration-200 cursor-pointer"
        ></tr>
      </table>
    </div>

    <!-- Compact No Data Message -->
    <div *ngIf="dataSource.filteredData.length === 0" class="text-center py-12">
      <mat-icon class="text-4xl text-gray-300 mb-4">search_off</mat-icon>
      <h3 class="text-lg font-semibold text-gray-900 mb-2">
        No employees found
      </h3>
      <p class="text-gray-500 mb-4">Try adjusting your search criteria.</p>
      <button
        mat-raised-button
        (click)="clearFilter()"
        class="bg-blue-500 text-white px-4 py-2 rounded-lg"
      >
        Reset Search
      </button>
    </div>

    <!-- Compact Pagination -->
    <div
      class="bg-gray-50/50 px-6 py-3 border-t border-gray-200/50 flex justify-between items-center"
    >
      <div class="text-sm text-gray-600 font-medium">
        Showing {{ getPaginationText() }}
      </div>
      <mat-paginator
        [pageSizeOptions]="[5, 10, 25, 50]"
        [pageSize]="10"
        showFirstLastButtons
        class="bg-transparent"
      ></mat-paginator>
    </div>
  </div>
</div>
